!function(b){"use strict";window.angular.module("angular-web-notification",[]).factory("webNotification",function(){var c={};c.allowRequest=!0,Object.defineProperty(c,"permissionGranted",{get:function(){var c=b.permissionLevel(),d=!1;return c===b.PERMISSION_GRANTED&&(d=!0),d}});var d=function(){},e=function(){var a=b.isSupported;return a&&(a=c.permissionGranted),a},f=function(a,c){var d=0;c&&c.autoClose&&"number"==typeof c.autoClose&&(d=c.autoClose),b.config({autoClose:d}),c.icon||(c.icon="/favicon.ico");var e=b.createNotification(a,c);return c.onClick&&e&&e.webNotification&&(e.webNotification.onclick=c.onClick),function(){e.close()}},g=function(a){var b=d;a.length&&"function"==typeof a[a.length-1]&&(b=a.pop());var c=null,e=null;if(2===a.length)c=a[0],e=a[1];else if(1===a.length){var f=a.pop();"string"==typeof f?(c=f,e={}):(c="",e=f)}return c=c||"",e=e||{},{callback:b,title:c,options:e}};return c.showNotification=function(){var a=Array.prototype.slice.call(arguments,0);if(a.length>=1&&a.length<=3){var d=g(a),h=d.callback,i=d.title,j=d.options,k=null;e()?(k=f(i,j),h(null,k)):c.allowRequest?b.requestPermission(function(){e()?(k=f(i,j),h(null,k)):h(new Error("Notifications are not enabled."),null)}):h(new Error("Notifications are not enabled."),null)}},c})}(window.notify);
